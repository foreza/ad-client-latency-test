const router = require('express').Router();



const mrecResponse =
{
    "requestId": "94403857-f738-4ff1-80db-a90aad42f142",
    "adSets": [{
        "adSetId": "6e1cbd7e-f777-4269-a430-173629d1b686",
        "expiry": 3300,
        "isAuctionClosed": true,
        "ads": [{
            "pubContent": "\n<html>\n    <head>\n        <meta name=\"viewport\" content=\"user-scalable=0, minimum-scale=1.0, maximum-scale=1.0, viewport-fit=cover\"/>\n        <style type=\"text/css\">\n            html,body{\n                overflow: hidden;\n                margin: 0;\n                padding: 0;\n                height: 100%;\n                width: 100%;\n            }\n            #im_1011_ad{\n                background: rgba(0,0,0,0.8);\n                height: 100%;\n                width: 100%;\n                position:absolute;\n                            }\n                        #im_1011_img{\n                border: 0;\n                height: 100%;\n            }\n            .im_1011_beacon{\n                display: none;\n            }\n                    </style>\n    </head>\n    <body>\n                                            <script type=\"text/javascript\" src=\"https://i.l.inmobicdn.net/sdk/sdk/500/android/mraid.js\"></script>\n                        <script type=\"text/javascript\" src=\"https://i.l.inmobicdn.net/sdk/sdk/OMID/omid-session-client-v1.js\"> </script>\n        <script type=\"text/javascript\" src=\"https://i.l.inmobicdn.net/sdk/sdk/OMID/omsdk-v1.js\"> </script>\n                        <script type='text/javascript'>\n            var im_1011_events = {\n                impressionBeacons: [\n                                                                        'https:\\/\\/tr.blismedia.com\\/v1\\/impression\\/pixel?r=1d04c54f-0170-1000-e2f5-90d9abea0030&i=1&c=85729&ct=128&b=88888888&s=33&cv=9&t=1581034816852067&sn=MeetMe%3A%20Chat%20%26%20Meet%20New%20People&pn=com.myyearbook.m&hc=1&wnet=1581038416&d=1B8036A9-B905-417B-9E4C-26B0014BA072&we=TRACKING_NOTICE&biid=881011ad82ac4233973ac01c94690457&wed=4Bupd3fDZ9Dxp7MjhY3mjg&wh=bidder-win.us-east4.lb.blis.com:80&wp=0.42386022889886726&a=TRACKING_NOTICE',\n                                                    'http:\\/\\/et-eus.w.inmobi.com\\/c.asm\\/HDa0yv3axZTGBRaotQoUWBS8ARWsBhsBWBgkMWI4MDM2YTktYjkwNS00MTdiLTllNGMtMjZiMDAxNGJhMDcyHBUAFQAVABWKDhUCJf4DGARhOTAxGANkaXIAEwAcFwAAACCM2kBAFwAAAEAlbV3AABUAGBhZMjl0TG0xNWVXVmhjbUp2YjJzdWJRfn4WoIYyHBwWgMCAl-DT4oQ6Fp_____fybf_OwAAFRgXAAAAAAAAWUASFAAcEhkFABaWkDoYA1VTRBbu6dHF9FoZhZysAaysAdbTAdKJAuaZAq6aAuDXAriHAyEYTQwAAQsAAQAAACBmOWIzZTgxZTA5YTc0NjNhODJjYzRiMmI2YWIxOTUzOAoAAgAAAAAAF2DZAAQAAj_ZmZmZmZmaCgAEAAAAAAAHRAsAOBcEAAFAWQAAAAAAAAQAAj-EeuFHrhR7ABhmAwABAAgAAgAAAAwGAAUBLAYABgD6CwAHAAAABTkuMC4xCwAIAAAAA0FQUAgACQAAAAICAAoACAALAAUXdAQADD-EeuFHrhR7CAAOAAAsPgsADwAAAA9ERVJJVkVEX0xBVF9MT04AGKABCgABAAAAAAAAAAALAAIAAACICwABAAAAEGNvbS5teXllYXJib29rLm0DAAILAgAEAAIABQAGAAYUAgsABwAAAARSVEJECAAOAABXawsADwAAAAczMDBYMjUwBgAQAAoLABEAAAAgZjliM2U4MWUwOWE3NDYzYTgyY2M0YjJiNmFiMTk1MzgKABIAAAAAAKvq9QIAFAEDABUBAAYABAAKAAAYggE27unRxfRauAZCQU5ORVIcPBwWgMCAl-DT4oQ6Fp_____fybf_OwAWASIAADmF4NcC5pkCrKwBrpoC0okC1tMBuIcDnKwBHACW6N0oHBUAACwVAACFAhEsFoDAgJfg0-KEOhaf_6_Bysm3ijoAJcoBFQo4CE1SODU3MjlaNABZFAQAGAE3AA\\/22c245c1?m=18&b=${WIN_BID}',\n                                                    'https:\\/\\/az-events.aerserv.com\\/as\\/ev\\/?plc=1068085&rid=94403857-f738-4ff1-80db-a90aad42f142&pubid=2751&appid=1021623&gdpr=false&gdpr_consent=false&os=android&adid=1b8036a9-b905-417b-9e4c-26b0014ba072&sdkv=9.0.1&iline=1093065&icid=1100768&asplcid=1163200&asid=32690452&campaignid=1992&pinned=NONE&vc_user_id=1b8036a9-b905-417b-9e4c-26b0014ba072&buyer=UMP&ntid=18&ctxhash=4%3AxzvPqkeGAcbTTg7P4%2BpCUw%3D%3D%3ArsR6JyijiiKZU%2BEnMo7OSZy81rhhS9kgIaeou7W2h9Fm9eQz0OVGacSF9%2FLf6eEqFLUzYBzF9Q0huR%2F%2BDF1NGQ%3D%3D&eu=bef134f7-8207-4d42-9082-bcf5eb962065&ev=22&pchain=2ce496b9f80eb9fa:2751',\n                                                            ],\n                onLoadBeacons: [\n                                                                                ],\n                clickBeacons: [\n                                                                        'https:\\/\\/c-eus.w.inmobi.com\\/c.asm\\/HDa0yv3axZTGBRaotQoUWBS8ARWsBhsBWBgkMWI4MDM2YTktYjkwNS00MTdiLTllNGMtMjZiMDAxNGJhMDcyHBUAFQAVABWKDhUCJf4DGARhOTAxGANkaXIAEwEcFwAAACCM2kBAFwAAAEAlbV3AABUAGBhZMjl0TG0xNWVXVmhjbUp2YjJzdWJRfn4WoIYyHBwWgMCAl-DT4oQ6Fp_____fybf_OwAAFRgXAAAAAAAAWUASFAAcEhkFABaWkDoYA1VTRBbu6dHF9FoZhZysAaysAdbTAdKJAuaZAq6aAuDXAriHAyEYTQwAAQsAAQAAACBmOWIzZTgxZTA5YTc0NjNhODJjYzRiMmI2YWIxOTUzOAoAAgAAAAAAF2DZAAQAAj_ZmZmZmZmaCgAEAAAAAAAHRAsAOBcEAAFAWQAAAAAAAAQAAj-EeuFHrhR7ABhmAwABAAgAAgAAAAwGAAUBLAYABgD6CwAHAAAABTkuMC4xCwAIAAAAA0FQUAgACQAAAAICAAoACAALAAUXdAQADD-EeuFHrhR7CAAOAAAsPgsADwAAAA9ERVJJVkVEX0xBVF9MT04AGKABCgABAAAAAAAAAAALAAIAAACICwABAAAAEGNvbS5teXllYXJib29rLm0DAAILAgAEAAIABQAGAAYUAgsABwAAAARSVEJECAAOAABXawsADwAAAAczMDBYMjUwBgAQAAoLABEAAAAgZjliM2U4MWUwOWE3NDYzYTgyY2M0YjJiNmFiMTk1MzgKABIAAAAAAKvq9QIAFAEDABUBAAYABAAKAAAYggE27unRxfRauAZCQU5ORVIcPBwWgMCAl-DT4oQ6Fp_____fybf_OwAWASIAADmF4NcC5pkCrKwBrpoC0okC1tMBuIcDnKwBHACW6N0oHBUAACwVAACFAhEsFoDAgJfg0-KEOhaf_6_Bysm3ijoAJcoBFQo4CE1SODU3MjlaNABZFAQAGAE3AA\\/6730c981',\n                                                            ]\n            };\n\n            var im_1011_fireBeacon = function (beaconUrl) {\n                if (null == beaconUrl) {\n                    return;\n                }\n                var x = document.createElement(\"img\");\n                x.setAttribute(\"src\", beaconUrl);\n                x.className = \"im_1011_beacon\";\n                document.body.appendChild(x);\n            };\n\n            var im_1011_fireBeacons = function (beaconUrls) {\n                for (var index = 0; index < beaconUrls.length; ++index) {\n                    im_1011_fireBeacon(beaconUrls[index]);\n                }\n            };\n\n            var im_1011_fireImpressionBeaconOnBodyLoad = function () {\n                if (!im_1011_impressionBeaconFired) {\n                        im_1011_fireBeacons(im_1011_events.impressionBeacons);\n                    window.setTimeout(\n                            function () {\n                                var url = \"http:\\/\\/et-eus.w.inmobi.com\\/c.asm\\/HDa0yv3axZTGBRaotQoUWBS8ARWsBhsBWBgkMWI4MDM2YTktYjkwNS00MTdiLTllNGMtMjZiMDAxNGJhMDcyHBUAFQAVABWKDhUCJf4DGARhOTAxGANkaXIAEwAcFwAAACCM2kBAFwAAAEAlbV3AABUAGBhZMjl0TG0xNWVXVmhjbUp2YjJzdWJRfn4WoIYyHBwWgMCAl-DT4oQ6Fp_____fybf_OwAAFRgXAAAAAAAAWUASFAAcEhkFABaWkDoYA1VTRBbu6dHF9FoZhZysAaysAdbTAdKJAuaZAq6aAuDXAriHAyEYTQwAAQsAAQAAACBmOWIzZTgxZTA5YTc0NjNhODJjYzRiMmI2YWIxOTUzOAoAAgAAAAAAF2DZAAQAAj_ZmZmZmZmaCgAEAAAAAAAHRAsAOBcEAAFAWQAAAAAAAAQAAj-EeuFHrhR7ABhmAwABAAgAAgAAAAwGAAUBLAYABgD6CwAHAAAABTkuMC4xCwAIAAAAA0FQUAgACQAAAAICAAoACAALAAUXdAQADD-EeuFHrhR7CAAOAAAsPgsADwAAAA9ERVJJVkVEX0xBVF9MT04AGKABCgABAAAAAAAAAAALAAIAAACICwABAAAAEGNvbS5teXllYXJib29rLm0DAAILAgAEAAIABQAGAAYUAgsABwAAAARSVEJECAAOAABXawsADwAAAAczMDBYMjUwBgAQAAoLABEAAAAgZjliM2U4MWUwOWE3NDYzYTgyY2M0YjJiNmFiMTk1MzgKABIAAAAAAKvq9QIAFAEDABUBAAYABAAKAAAYggE27unRxfRauAZCQU5ORVIcPBwWgMCAl-DT4oQ6Fp_____fybf_OwAWASIAADmF4NcC5pkCrKwBrpoC0okC1tMBuIcDnKwBHACW6N0oHBUAACwVAACFAhEsFoDAgJfg0-KEOhaf_6_Bysm3ijoAJcoBFQo4CE1SODU3MjlaNABZFAQAGAE3AA\\/22c245c1\" + \"?m=99&action=1secAfterBodyLoadAndViewable\";\n                                    im_1011_fireBeacon(url);\n                            }, 1000);\n                        im_1011_impressionBeaconFired = true;\n                }\n            };\n\n            var im_1011_canFireImpBeacons = false;\n            var im_1011_documentBodyLoaded = false;\n            var im_1011_impressionBeaconFired = false;\n            var im_1011_fireImpressionBeacons = function () {\n                                        im_1011_fireBeacons(im_1011_events.impressionBeacons);\n                            };\n\n            var im_1011_fireClickBeacons = function() {\n                im_1011_fireBeacons(im_1011_events.clickBeacons);\n            };\n\n            var im_1011_count = 0,\n                mraid = window.mraid;\n\n                            var alreadyFiredLPBeacon = false;\n                var fireLPBeacon = function(url) {\n                    if (alreadyFiredLPBeacon) return;\n                    alreadyFiredLPBeacon = true;\n                    var landingPageBeacon = \"http:\\/\\/et-eus.w.inmobi.com\\/c.asm\\/HDa0yv3axZTGBRaotQoUWBS8ARWsBhsBWBgkMWI4MDM2YTktYjkwNS00MTdiLTllNGMtMjZiMDAxNGJhMDcyHBUAFQAVABWKDhUCJf4DGARhOTAxGANkaXIAEwAcFwAAACCM2kBAFwAAAEAlbV3AABUAGBhZMjl0TG0xNWVXVmhjbUp2YjJzdWJRfn4WoIYyHBwWgMCAl-DT4oQ6Fp_____fybf_OwAAFRgXAAAAAAAAWUASFAAcEhkFABaWkDoYA1VTRBbu6dHF9FoZhZysAaysAdbTAdKJAuaZAq6aAuDXAriHAyEYTQwAAQsAAQAAACBmOWIzZTgxZTA5YTc0NjNhODJjYzRiMmI2YWIxOTUzOAoAAgAAAAAAF2DZAAQAAj_ZmZmZmZmaCgAEAAAAAAAHRAsAOBcEAAFAWQAAAAAAAAQAAj-EeuFHrhR7ABhmAwABAAgAAgAAAAwGAAUBLAYABgD6CwAHAAAABTkuMC4xCwAIAAAAA0FQUAgACQAAAAICAAoACAALAAUXdAQADD-EeuFHrhR7CAAOAAAsPgsADwAAAA9ERVJJVkVEX0xBVF9MT04AGKABCgABAAAAAAAAAAALAAIAAACICwABAAAAEGNvbS5teXllYXJib29rLm0DAAILAgAEAAIABQAGAAYUAgsABwAAAARSVEJECAAOAABXawsADwAAAAczMDBYMjUwBgAQAAoLABEAAAAgZjliM2U4MWUwOWE3NDYzYTgyY2M0YjJiNmFiMTk1MzgKABIAAAAAAKvq9QIAFAEDABUBAAYABAAKAAAYggE27unRxfRauAZCQU5ORVIcPBwWgMCAl-DT4oQ6Fp_____fybf_OwAWASIAADmF4NcC5pkCrKwBrpoC0okC1tMBuIcDnKwBHACW6N0oHBUAACwVAACFAhEsFoDAgJfg0-KEOhaf_6_Bysm3ijoAJcoBFQo4CE1SODU3MjlaNABZFAQAGAE3AA\\/22c245c1\";\n                    landingPageBeacon += \"?m=122\";\n                    var data = {\n                        \"adid\" : \"f9b3e81e09a7463a82cc4b2b6ab19538\",\n                        \"cid\" : \"MR85729Z\",\n                        \"lp\" : url,\n                        \"ua\" : \"Mozilla\\/5.0 (Linux; Android 6.0.1; OPPO R9sk Build\\/MMB29M; wv) AppleWebKit\\/537.36 (KHTML, like Gecko) Version\\/4.0 Chrome\\/76.0.3809.132 Mobile Safari\\/537.36\",\n                        \"ip\" : \"65.60.111.27\"\n                    };\n                    landingPageBeacon += \"&\" + \"data\" + \"=\" + encodeURIComponent(JSON.stringify(data));\n                    im_1011_fireBeacon(landingPageBeacon);\n                };\n            \n            \n            var im_1011_checkForMraid = function() {\n                 if (\"undefined\" !== typeof mraid) {\n                     if (typeof mraid.isViewable === \"function\" && mraid.isViewable()) {\n                          im_1011_fireImpressionBeacons();\n                     } else {\n                         mraid.addEventListener(\"viewableChange\", function(viewable) {\n                             if (viewable) {\n                                 mraid.removeEventListener(\"viewableChange\", arguments.callee);\n                                 im_1011_fireImpressionBeacons();\n                             }\n                         });\n                     }\n                                              var events = [];\n                                                      events.push(\"openSuccessful\", \"openEmbeddedSuccessful\");\n                                                  events.forEach(function (e) {\n                         mraid.addEventListener(e, function (url) {\n                         fireLPBeacon(url);\n                         });\n                     });\n                                      } else {\n                      im_1011_fireImpressionBeacons();\n                 }\n            };\n\n                                        im_1011_fireBeacons(im_1011_events.onLoadBeacons);\n                im_1011_checkForMraid();\n            \n                        var im_1011_clickHandler = function () {\n                document.removeEventListener('click', im_1011_clickHandler);\n                im_1011_fireClickBeacons();\n                if(false){\n                    openLandingPage('${thirdPartyAdBuilder.landingPage}');\n                }\n            };\n\n            var openLandingPage = function (landingPage) {\n                if (typeof (imraid) !== \"undefined\" && typeof (imraid.openExternal) === \"function\") {\n                    imraid.openExternal(landingPage);\n                } else if (mraid && typeof (mraid.open) === \"function\") {\n                    mraid.open(landingPage);\n                } else {\n                    window.open(landingPage, '_blank');\n                }\n            };\n\n\n                                document.addEventListener('click', im_1011_clickHandler);\n            \n                                        var im_1011_readyHandler = function () {\n                    _im_imai.fireAdReady();\n                    _im_imai.removeEventListener(\"ready\", im_1011_readyHandler);\n                };\n                _im_imai.addEventListener(\"ready\", im_1011_readyHandler);\n            \n                                                                            window['inmobi'] = window['inmobi'] || {};\n                window['inmobi'].recordEvent = function(id, params) {\n                    var beacon = \"http:\\/\\/et-eus.w.inmobi.com\\/c.asm\\/HDa0yv3axZTGBRaotQoUWBS8ARWsBhsBWBgkMWI4MDM2YTktYjkwNS00MTdiLTllNGMtMjZiMDAxNGJhMDcyHBUAFQAVABWKDhUCJf4DGARhOTAxGANkaXIAEwAcFwAAACCM2kBAFwAAAEAlbV3AABUAGBhZMjl0TG0xNWVXVmhjbUp2YjJzdWJRfn4WoIYyHBwWgMCAl-DT4oQ6Fp_____fybf_OwAAFRgXAAAAAAAAWUASFAAcEhkFABaWkDoYA1VTRBbu6dHF9FoZhZysAaysAdbTAdKJAuaZAq6aAuDXAriHAyEYTQwAAQsAAQAAACBmOWIzZTgxZTA5YTc0NjNhODJjYzRiMmI2YWIxOTUzOAoAAgAAAAAAF2DZAAQAAj_ZmZmZmZmaCgAEAAAAAAAHRAsAOBcEAAFAWQAAAAAAAAQAAj-EeuFHrhR7ABhmAwABAAgAAgAAAAwGAAUBLAYABgD6CwAHAAAABTkuMC4xCwAIAAAAA0FQUAgACQAAAAICAAoACAALAAUXdAQADD-EeuFHrhR7CAAOAAAsPgsADwAAAA9ERVJJVkVEX0xBVF9MT04AGKABCgABAAAAAAAAAAALAAIAAACICwABAAAAEGNvbS5teXllYXJib29rLm0DAAILAgAEAAIABQAGAAYUAgsABwAAAARSVEJECAAOAABXawsADwAAAAczMDBYMjUwBgAQAAoLABEAAAAgZjliM2U4MWUwOWE3NDYzYTgyY2M0YjJiNmFiMTk1MzgKABIAAAAAAKvq9QIAFAEDABUBAAYABAAKAAAYggE27unRxfRauAZCQU5ORVIcPBwWgMCAl-DT4oQ6Fp_____fybf_OwAWASIAADmF4NcC5pkCrKwBrpoC0okC1tMBuIcDnKwBHACW6N0oHBUAACwVAACFAhEsFoDAgJfg0-KEOhaf_6_Bysm3ijoAJcoBFQo4CE1SODU3MjlaNABZFAQAGAE3AA\\/22c245c1\";\n                    beacon += \"?m=\" + id;\n                    if (params) {\n                        for (var key in params) {\n                            beacon += \"&\" + encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]);\n                        }\n                    }\n                    im_1011_fireBeacon(beacon);\n                };\n                                        window['im_1011_omidEventBuffer'] = [];\nwindow['im_1011_sessionStarted'] = false;\nwindow['im_1011_trackOMIDEvents'] = function (id, params) {\n    if (!window['im_1011_sessionStarted']) {\n        window['im_1011_omidEventBuffer'].push({\n            \"id\" : id,\n            \"params\" : params\n        });\n        return;\n    }\n    var omid = window['im_1011_omid'];\n    if (id == 9 || id == 10) {\n        omid.videoEvents.start(omid.videoDom.duration, omid.videoDom.muted ? 0 : omid.videoDom.volume);\n    }\n    else if (id == 12 && params[\"q\"] == 1) {\n        omid.videoEvents.firstQuartile();\n    }\n    else if (id == 12 && params[\"q\"] == 2) {\n        omid.videoEvents.midpoint();\n    }\n    else if (id == 12 && params[\"q\"] == 3) {\n        omid.videoEvents.thirdQuartile();\n    }\n    else if (id == 13) {\n        omid.videoEvents.complete();\n    }\n    else if (id == 14) {\n        omid.videoEvents.pause();\n    }\n    else if (id == 17) {\n        omid.videoEvents.resume();\n    }\n    else if (id == 18) {\n        omid.adEvents.impressionOccurred();\n    }\n    else if (id == 'volumeChange') {\n        omid.videoEvents.volumeChange(omid.videoDom.muted ? 0 : omid.videoDom.volume);\n    }\n    else if (id == 99 && params['action'] == \"skip\") {\n        omid.videoEvents.skipped();\n    }\n    else if (id == 99 && params['action'] == \"ad-load\") {\n        params = params || [];\n        var eventData = params['eventData'];\n        eventData = eventData || [];\n        omid.videoEvents.loaded({\n                                    \"isSkippable\":eventData[\"skippable\"],\n                                    \"skipOffset\":eventData[\"skipOffset\"],\n                                    \"isAutoPlay\":eventData[\"autoPlay\"],\n                                    \"position\":eventData[\"position\"]\n                                });\n    }\n};\nwindow['im_1011_initOMIDTracking'] = function (videoDOMElement) {\n    var sessionClient;\n    try {\n        sessionClient = OmidSessionClient[\"1.2.19-iab1680\"];\n    } catch (e) {\n    }\n    if (!sessionClient) {\n        return;\n    }\n    var AdSession = sessionClient.AdSession;\n    var Partner = sessionClient.Partner;\n    var Context = sessionClient.Context;\n    var VerificationScriptResource = sessionClient.VerificationScriptResource;\n    var AdEvents = sessionClient.AdEvents;\n    var VideoEvents = sessionClient.VideoEvents;\n    var partnerName = \"Inmobi\";\n    var partnerSdkOrAppVersion = \"a901\";\n    var resources = [];\n    var omidMeasurementResources = window['im_1011_OMIDs'];\n    if (typeof(omidMeasurementResources) !== 'undefined' && typeof(omidMeasurementResources['length']) !== 'undefined') {\n        for (var i = 0; i < omidMeasurementResources.length; i++) {\n            var resource = omidMeasurementResources[i];\n            if (!resource.hasOwnProperty('vendor') || !resource.hasOwnProperty('url')) {\n                continue;\n            }\n            var vendorKey = resource['vendor'];\n            var params = window['im_1011_replaceTrackerMacros'](resource['verificationParams']);\n            var url = window['im_1011_replaceTrackerMacros'](resource['url']);\n            var omidResource = new VerificationScriptResource(url, vendorKey, params);\n            resources.push(omidResource);\n        }\n    }\n\n    var partner = new Partner(partnerName, partnerSdkOrAppVersion);\n    var context = new Context(partner, resources);\n    var adSession;\n\n    var omid = {};\n    window['im_1011_omid'] = omid;\n\n    if (typeof videoDOMElement !== 'undefined') {\n        context.setVideoElement(videoDOMElement);\n        adSession = new AdSession(context);\n        omid.videoEvents = new VideoEvents(adSession);\n        omid.videoDom = videoDOMElement;\n    } else {\n        adSession = new AdSession(context);\n    }\n    omid.adEvents = new AdEvents(adSession);\n\n    adSession.registerSessionObserver(function(event) {\n        window.console.log(\"inside adSession callback\" + event.type);\n        if (event.type === \"sessionStart\") {\n            window['im_1011_sessionStarted'] = true;\n            setTimeout(function () {\n                for (var i = 0; i < window['im_1011_omidEventBuffer']['length']; i++) {\n                    window['im_1011_trackOMIDEvents'](window['im_1011_omidEventBuffer'][i]['id'],\n                                                        window['im_1011_omidEventBuffer'][i]['params']);\n                }\n            }, 0);\n        }\n    });\n};\nwindow['im_1011_appendOMIDs'] = function (valueToAppend) {\n    if (typeof window['im_1011_OMIDs'] === 'undefined') {\n        window['im_1011_OMIDs'] = [];\n    }\n    window['im_1011_OMIDs'].push(valueToAppend);\n};\nwindow['im_1011_replaceTrackerMacros'] = function (value) {\n    return value;\n};                window['im_1011_initOMIDTracking']();\n                window['im_1011_trackOMIDEvents'](18);\n                    </script>\n\n        \n                                \n        <div id=\"im_1011_ad\">\n                                                                   <div id=\"im_1011_child\" style=\"display: inline-block; transform-origin: left top\">\n                                    <script type=\"text/javascript\">\n      rubicon_cb = Math.random(); rubicon_rurl = document.referrer; if(top.location==document.location){rubicon_rurl = document.location;} rubicon_rurl = escape(rubicon_rurl);\n      window.rubicon_ad = \"4105608\" + \".\" + \"js\";\n      window.rubicon_creative = \"4505686\" + \".\" + \"js\";\n    </script>\n<div data-rp-type=\"trp-display-creative\" data-rp-impression-id=\"b8137778-638e-49e1-b24e-0458904ae4bf\" data-rp-aqid=\"5096:116884\" data-rp-acct-id=\"16928\">\n<script type=\"text/javascript\">!function(){\"use strict\";var e=window.mraid;function t(){try{(e=window.mraid).isViewable&&e.isViewable()?i():e.addEventListener(\"viewableChange\",a)}catch(e){}}function a(t){try{t&&(i(),e.removeEventListener(\"viewableChange\",a))}catch(e){}}function i(){(new Image).src=\"https://beacon-us-iad2.rubiconproject.com/beacon/d/b8137778-638e-49e1-b24e-0458904ae4bf?oo=0&accountId=16928&siteId=150402&zoneId=713822&sizeId=44&e=6A1E40E384DA563B6AD8B32D21FFD8E32961F7C2D4F2D4941D17CA9A9014047B4F906F6576D4ECFAB0B2C28EC5E3C872EC3B807504DE9ECCE5B5DB3770D33B1FF8ACB16A6F5610FF9EF76CF82F5BE78910B8F208A1E806B6031AB0C24DABCA8A16844B9DB1270321504588A2B2D16EF180511FB36BCE80E49BD41EB0ED137B5BD2D8598732352862442953EF709FC351A340B3C839C94122B4A7786F3B6CF76724F5207A2458AD774C778AD5117269A8CD450B618DB9F9FB8705DA2767D9B0C030696B522150ECCB6ADE1698626B05669C3B810351B574B2\";(new Image).src=\"https://impression-east.liftoff.io/rubicon/win_notice?ad_group_id=106239&channel_id=26&creative_id=116884&device_id_sha1=0f418956ed7ce0d5be995f1767746d646daad9d2&source_app_store_id=com.myyearbook.m&bid_ts=1581034805886&auction_id=a30ec2808fd4826bc8ef2a28f72bc093304f973c_44&auction_price=0B21A3594563D940&origin=haggler-rubicon260\";}try{if(e&&\"object\"==typeof e)t();else{var n=document.createElement(\"script\");n.type=\"text/javascript\",n.onload=t,n.src=\"mraid.js\",document.head.appendChild(n)}}catch(e){}}();</script>\n\n\n<div>\n  <meta charset=\"utf-8\"/>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1,user-scalable=no\"/>\n  <a id=\"exchange-ping-url\" href=\"http://beacon-nf.rubiconproject.com/beacon/v2/rs/0/b8137778-638e-49e1-b24e-0458904ae4bf/0/rwQtazKaWE4xnQ3pwB24vSrDu8U/?url=https%3A%2F%2Fcdn.liftoff.io%2Ftracking_pixel.gif\" style=\"display:none\"></a>\n  <script>window.LIFTOFF_START_TS = Date.now()</script>\n  <script src=\"mraid.js\"></script>\n  <div style=\"display:none\">\n    <img id=\"liftoff-beacon\" src=\"https://impression-east.liftoff.io/rubicon/beacon?ad_group_id=106239&amp;channel_id=26&amp;creative_id=116884&amp;auction_id=a30ec2808fd4826bc8ef2a28f72bc093304f973c_44&amp;origin=haggler-rubicon260\"/>\n  </div>\n\n  <script src=\"https://cdn.liftoff.io/resources/polyfills-247e0ad00ecf7028846d.js\"></script>\n  <link href=\"https://cdn.liftoff.io/resources/liftoff-2c05a381052f03c2db01.css\" rel=\"stylesheet\"/>\n  <script src=\"https://cdn.liftoff.io/resources/liftoff-c567a847bbe25edfb383.js\"></script>\n\n  <link href=\"https://cdn.liftoff.io/resources/panning-4bbf019310c83c348bce.css\" rel=\"stylesheet\"/>\n  <link href=\"https://cdn.liftoff.io/resources/generic-cta-636a28662542dfd15f58.css\" rel=\"stylesheet\"/>\n  <link href=\"https://cdn.liftoff.io/resources/product-tile-banner-0c07ce75fe3227479509.css\" rel=\"stylesheet\"/>\n  <script src=\"https://cdn.liftoff.io/resources/simple-text-41da23f37e124f3c4057.js\"></script>\n  <script src=\"https://cdn.liftoff.io/resources/panning-278d2ecb2985fccc2b4c.js\"></script>\n  <script src=\"https://cdn.liftoff.io/resources/product-tile-banner-24ffa1afc064e9b72939.js\"></script>\n  <script src=\"https://cdn.liftoff.io/resources/generic-cta-106473f0cb25f01a61a2.js\"></script>\n  <script>\n    Liftoff.init(JSON.parse(decodeURIComponent('{\"pinpoint_url\":\"https://click.liftoff.io/v1/campaign_click/GeKFi7OV3nCW6JN6v8nLZ2hi6tn8wK3B15BkY73ozXLtXdWxOiE9LEIlXLTfaXLL5WvcBfmlEMsmXdJaWhhtL6I-t7LzMGNjMS1IzT8qVxeq5K-FvGuAKK3S7_RH1Efrvl7sV-dtBGY_sf7xTzx5aUvNUSZ7ikkSgYaVXMpAfBKR_Js8y17KENEUGSyy9pphy3f90VmV1A99nL2AInut3RkN0hchKaoY3M3XU_arxGhcpHcnzDhqYo1cRjUy-izCE9YL2O2Z3pk093pyTPu8NI9l7ADY8pk5RXtYKDWnXNM1f0ul1LHkeXuOUn19_OX2mfYO2WoP_XgLH2DRbxGTepF33yEoTsJBINIVnYU\",\"bid_context\":{\"adexp_logging_frequency\":0.075,\"is_rewarded\":false,\"dest_app_platform\":\"android\",\"dest_app_id\":1018,\"ad_group_id\":106239,\"app_id_external\":\"c63d2877d7\",\"supports_native_browser\":false,\"spend_type\":\"ua\",\"bid_request_at\":\"2020-02-07T00:20:05Z\",\"is_ua_or_abr\":true,\"ec2_region\":\"us-east-1\",\"enable_html_return\":false,\"city\":\"Bellflower\",\"creative_id\":116884,\"width\":320,\"force_custom_close\":false,\"source_app_name\":\"MeetMe: Chat %26 Meet New People\",\"longitude\":-118.1261,\"is_reengagement\":false,\"template_config_id\":139,\"size\":\"300x50\",\"channel_id\":26,\"no_custom_close\":false,\"source_app_genre\":\"Social\",\"connection_type\":\"wifi\",\"supports_mraid\":true,\"source_app_id\":\"com.myyearbook.m\",\"device_family\":\"Mobile\",\"dest_app_russian_age_rating\":0,\"language\":\"en\",\"zip\":\"90706\",\"region_code\":\"CA\",\"bid_request_id\":\"a30ec2808fd4826bc8ef2a28f72bc093304f973c_44\",\"device_id_type\":\"google-aid\",\"device_id_sha1\":\"0f418956ed7ce0d5be995f1767746d646daad9d2\",\"is_interstitial\":false,\"latitude\":33.8838,\"template_md5\":\"madlib-ebe50503860643db5c8a\",\"exchange\":\"rubicon\",\"is_skippable\":null,\"device_id\":\"1b8036a9-b905-417b-9e4c-26b0014ba072\",\"vast_companion_types\":null,\"country\":\"USA\",\"ab_tests\":%5B\"madlib-schema-migration-experiment\",\"click-method-window-open\",\"cdn-akamai-control\",\"applovin-nv-end-card-control\"%5D,\"platform\":\"android\",\"height\":50},\"enable_html_return\":false,\"enable_logging\":false,\"html_return_delay\":\"0\",\"logging_endpoint\":\"https://adexp.liftoff.io\",\"creative_policy\":{\"show_chinese_watermark\":false,\"show_ad_choices\":false,\"use_custom_close\":false,\"audio_policy\":\"always-mute\",\"remove_ad_wrapper\":false,\"russian_age_rating\":null,\"close_delay\":0,\"add_border\":false,\"animation_duration_limit\":0,\"block_strobing\":false,\"block_notifications\":false},\"products\":%5B%5D}')), {\n      images: {},\n      videos: {},\n      image_originals: {\"553218\":{\"id\":553218,\"image_versions\":[{\"id\":630058,\"version-id\":1,\"public-url\":\"https://cdn.liftoff.io/customers/c9e471ecc4/images/v1/c5a54d4b00.png\",\"width\":857,\"height\":60,\"mime-type\":\"image/png\"}]},\"20897\":{\"id\":20897,\"image_versions\":[{\"id\":20897,\"version-id\":1,\"public-url\":\"https://cdn.liftoff.io/customers/604/images/9b6dd1a43c.jpg\",\"width\":434,\"height\":434,\"mime-type\":\"image/jpeg\"}]}},\n      video_originals: {},\n    }, {\n      template: {},\n      creative: JSON.parse(decodeURIComponent('{\"scenes\":%5B{\"id\":\"main\",\"layoutID\":77,\"transition\":null,\"layoutContent\":{\"css\":{},\"containers\":%5B{\"id\":\"Background\",\"children\":%5B%5D},{\"id\":\"Main Content - Conveyor Belt\",\"children\":%5B%5D},{\"id\":\"Foreground\",\"children\":%5B%5D}%5D,\"constraints\":{\"Background\":{\"top\":0,\"left\":0,\"right\":0,\"bottom\":0},\"Foreground\":{\"top\":0,\"left\":0,\"right\":0,\"bottom\":0},\"Main Content - Conveyor Belt\":{\"top\":0,\"left\":0,\"right\":0,\"bottom\":0}},\"clickTargets\":%5B%5D,\"coordination\":%5B%5D,\"componentParams\":{\"Main Content - Conveyor Belt\":{\"params\":{\"appNameStyles\":{\"type\":\"style\",\"value\":null},\"starRating\":{\"type\":\"number\",\"value\":null},\"switchingDuration\":{\"type\":\"number\",\"value\":500},\"switchElements\":{\"type\":\"text\",\"value\":null},\"ctaStyles\":{\"type\":\"style\",\"value\":{}},\"cta\":{\"type\":\"component\",\"value\":{\"params\":{\"blink\":{\"type\":\"boolean\",\"value\":null},\"uaCTA\":{\"type\":\"text\",\"value\":\"INSTALL\",\"metadata\":{\"languageID\":20,\"englishWord\":\"INSTALL\"}},\"abrCTA\":{\"type\":\"text\",\"value\":\"OPEN\",\"metadata\":{\"languageID\":20,\"englishWord\":\"OPEN\"}},\"activationCTA\":{\"type\":\"text\",\"value\":null},\"animateOnClickAnywhere\":{\"type\":\"boolean\",\"value\":false}},\"component\":\"generic-cta\"}},\"component\":{\"type\":\"component\",\"value\":{\"params\":{\"speed\":{\"type\":\"number\",\"value\":25},\"images\":{\"type\":\"array\",\"value\":%5B{\"image\":{\"type\":\"image_original\",\"value\":553218}}%5D}},\"component\":\"panning\"}},\"iconStyles\":{\"type\":\"style\",\"value\":{}},\"componentStyles\":{\"type\":\"style\",\"value\":{}},\"starStyles\":{\"type\":\"style\",\"value\":{}},\"appName\":{\"type\":\"text\",\"value\":\"Free %26 unlimited calling and texting%21\"},\"appInfoDuration\":{\"type\":\"number\",\"value\":1800},\"appNameLineLimit\":{\"type\":\"number\",\"value\":null},\"componentDuration\":{\"type\":\"number\",\"value\":2000},\"caption\":{\"type\":\"component\",\"value\":{\"params\":{\"text\":{\"type\":\"text\",\"value\":null},\"maxLines\":{\"type\":\"number\",\"value\":null}},\"component\":\"simple-text\"}},\"initialDelay\":{\"type\":\"number\",\"value\":1800},\"captionStyles\":{\"type\":\"style\",\"value\":{}},\"icon\":{\"type\":\"image_original\",\"value\":20897}},\"component\":\"product-tile-banner\"}}}}%5D}')),\n    });\n  </script>\n</div>\n\n\n<div style=\"height:0px;width:0px;overflow:hidden\"><iframe src=\"https://eus.rubiconproject.com/usync.html?&gdpr=0&geo=na&co=us\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"NO\" width=\"0\" height=\"0\" style=\"height:0px;width:0px\"></iframe></div></div>\n\n\n\n\n\n\n\n<img src=\"https://tr.blismedia.com/v1/impression/pixel?r=1d04c54f-0170-1000-e2f5-90d9abea0030&i=1&c=85729&ct=128&b=88888888&s=33&cv=9&t=1581034816852067&sn=MeetMe%3A%20Chat%20%26%20Meet%20New%20People&pn=com.myyearbook.m&hc=1&wnet=1581038416&d=1B8036A9-B905-417B-9E4C-26B0014BA072&we=TRACKING_NOTICE&biid=881011ad82ac4233973ac01c94690457&a=REQUESTED\" style=\"display:none\">\n                                   </div>\n                                                        </div>\n        <script type='text/javascript'>\n                        var creativeResize = function() {\n                var child_div = document.getElementById(\"im_1011_child\");\n\n                var parent_height = 250;\n                var parent_width = 300;\n\n                var child_height = child_div.offsetHeight;\n                var child_width = child_div.offsetWidth;\n\n                child_div.style.transform = \"scale(\" + parent_width / child_width + \",\" + parent_height / child_height + \")\";\n\n                var url = \"http:\\/\\/et-eus.w.inmobi.com\\/c.asm\\/HDa0yv3axZTGBRaotQoUWBS8ARWsBhsBWBgkMWI4MDM2YTktYjkwNS00MTdiLTllNGMtMjZiMDAxNGJhMDcyHBUAFQAVABWKDhUCJf4DGARhOTAxGANkaXIAEwAcFwAAACCM2kBAFwAAAEAlbV3AABUAGBhZMjl0TG0xNWVXVmhjbUp2YjJzdWJRfn4WoIYyHBwWgMCAl-DT4oQ6Fp_____fybf_OwAAFRgXAAAAAAAAWUASFAAcEhkFABaWkDoYA1VTRBbu6dHF9FoZhZysAaysAdbTAdKJAuaZAq6aAuDXAriHAyEYTQwAAQsAAQAAACBmOWIzZTgxZTA5YTc0NjNhODJjYzRiMmI2YWIxOTUzOAoAAgAAAAAAF2DZAAQAAj_ZmZmZmZmaCgAEAAAAAAAHRAsAOBcEAAFAWQAAAAAAAAQAAj-EeuFHrhR7ABhmAwABAAgAAgAAAAwGAAUBLAYABgD6CwAHAAAABTkuMC4xCwAIAAAAA0FQUAgACQAAAAICAAoACAALAAUXdAQADD-EeuFHrhR7CAAOAAAsPgsADwAAAA9ERVJJVkVEX0xBVF9MT04AGKABCgABAAAAAAAAAAALAAIAAACICwABAAAAEGNvbS5teXllYXJib29rLm0DAAILAgAEAAIABQAGAAYUAgsABwAAAARSVEJECAAOAABXawsADwAAAAczMDBYMjUwBgAQAAoLABEAAAAgZjliM2U4MWUwOWE3NDYzYTgyY2M0YjJiNmFiMTk1MzgKABIAAAAAAKvq9QIAFAEDABUBAAYABAAKAAAYggE27unRxfRauAZCQU5ORVIcPBwWgMCAl-DT4oQ6Fp_____fybf_OwAWASIAADmF4NcC5pkCrKwBrpoC0okC1tMBuIcDnKwBHACW6N0oHBUAACwVAACFAhEsFoDAgJfg0-KEOhaf_6_Bysm3ijoAJcoBFQo4CE1SODU3MjlaNABZFAQAGAE3AA\\/22c245c1\" + \"?m=99&action=scale&label=\" + child_div.style.transform;\n                im_1011_fireBeacon(url);\n            };\n                    </script>\n\n        \n                    <script type='text/javascript'>\n                    for (var ls = document.links, numLinks = ls.length, i = 0; i < numLinks; i++) {\n                        ls[i].addEventListener(\"click\", function () {\n                            fireLPBeacon(this.href);\n                        });\n                    }\n            </script>\n        \n\n                                                                                                                                                                                                            \n                    <style type=\"text/css\">#im_1011_dw{-webkit-perspective:1000;perspective:1000;top:34px}#im_1011_dw,#im_1011_dw img{position:relative;}#im_1011_aci{width:14px;height:14px;opacity:.55;left:0;z-index:1000}#im_1011_bi{-webkit-transform:rotateX(0);transform:rotateX(0);pointer-events:none}#im_1011_ias,.im_1011_f #im_1011_bi{}.im_1011_f #im_1011_ias{display:block;bottom:4px;z-index:1000;}.im_1011_b{width:85px;height:14px;-webkit-transition:.5s;transition:.5s;-webkit-backface-visibility:hidden;backface-visibility:hidden}#im_1011_ias{display:none;position:absolute !important}</style>\n            <script type=\"text/javascript\">!function(){var a=\"im_1011_\",b=window.mraid,c=function(a){return document.getElementById(a)},d=function(){var c='https:\\/\\/www.inmobi.com\\/ad-opt-out?i=%7B%22GPID%22%3A%221b8036a9-b905-417b-9e4c-26b0014ba072%22%7D',d=c||\"https://www.inmobi.com/page/opt-out\";b&&\"function\"==typeof b.open?b.open(d):window.location.href=d},e=function(a,b,c){var d=0,e=0;if(\"tap\"===b){var f,g=!1;a.addEventListener(\"touchstart\",function(a){d=a.changedTouches[0].pageX,e=a.changedTouches[0].pageY,g=!0,f=!1}),a.addEventListener(\"touchmove\",function(){f=!0}),a.addEventListener(\"touchend\",function(a){var b=a.changedTouches[0].pageY,h=a.changedTouches[0].pageX,i=Math.abs(h-d),j=Math.abs(b-e);g&&(g=!1,f?10>=i&&10>=j&&c.call(null,a):c.call(null,a))})}else a.addEventListener(b,c)},f=function(b){b.stopPropagation();var g=c(a+\"aci\"),h=c(a+\"ias\"),i=c(a+\"dw\");i.classList.add(a+\"f\"),g.removeEventListener(\"touchstart\",f),e(g,\"tap\",d),e(h,\"tap\",d)},g=function(){var b=\"14px\",d=\"http://adtools.inmobicdn.net/c/7DTGyKYx47Si71wmq/o.png\",g=\"http://adtools.inmobicdn.net/c/kCHw8reseehnNJDRW/o.png\",h=\"<img id='\"+a+\"aci' src='\"+d+\"'/>\",i=\"<img id='\"+a+\"ias' class='\"+a+\"b' src='\"+g+\"' style='left:\"+b+\";'/>\",j=\"\";j=h,j+=i;var k=document.createElement(\"div\");k.setAttribute(\"id\",a+\"dw\"),k.innerHTML=j,document.body.appendChild(k);var l=c(a+\"aci\");e(l,\"touchstart\",f)};g()}();</script>\n                <script type=\"application/javascript\">\n            var bodyOnLoad = function () {\n                    im_1011_documentBodyLoaded = true;\n\n                creativeResize();\n                if (typeof mraid.isViewable === \"function\" && mraid.isViewable()) {\n                    var url = \"http:\\/\\/et-eus.w.inmobi.com\\/c.asm\\/HDa0yv3axZTGBRaotQoUWBS8ARWsBhsBWBgkMWI4MDM2YTktYjkwNS00MTdiLTllNGMtMjZiMDAxNGJhMDcyHBUAFQAVABWKDhUCJf4DGARhOTAxGANkaXIAEwAcFwAAACCM2kBAFwAAAEAlbV3AABUAGBhZMjl0TG0xNWVXVmhjbUp2YjJzdWJRfn4WoIYyHBwWgMCAl-DT4oQ6Fp_____fybf_OwAAFRgXAAAAAAAAWUASFAAcEhkFABaWkDoYA1VTRBbu6dHF9FoZhZysAaysAdbTAdKJAuaZAq6aAuDXAriHAyEYTQwAAQsAAQAAACBmOWIzZTgxZTA5YTc0NjNhODJjYzRiMmI2YWIxOTUzOAoAAgAAAAAAF2DZAAQAAj_ZmZmZmZmaCgAEAAAAAAAHRAsAOBcEAAFAWQAAAAAAAAQAAj-EeuFHrhR7ABhmAwABAAgAAgAAAAwGAAUBLAYABgD6CwAHAAAABTkuMC4xCwAIAAAAA0FQUAgACQAAAAICAAoACAALAAUXdAQADD-EeuFHrhR7CAAOAAAsPgsADwAAAA9ERVJJVkVEX0xBVF9MT04AGKABCgABAAAAAAAAAAALAAIAAACICwABAAAAEGNvbS5teXllYXJib29rLm0DAAILAgAEAAIABQAGAAYUAgsABwAAAARSVEJECAAOAABXawsADwAAAAczMDBYMjUwBgAQAAoLABEAAAAgZjliM2U4MWUwOWE3NDYzYTgyY2M0YjJiNmFiMTk1MzgKABIAAAAAAKvq9QIAFAEDABUBAAYABAAKAAAYggE27unRxfRauAZCQU5ORVIcPBwWgMCAl-DT4oQ6Fp_____fybf_OwAWASIAADmF4NcC5pkCrKwBrpoC0okC1tMBuIcDnKwBHACW6N0oHBUAACwVAACFAhEsFoDAgJfg0-KEOhaf_6_Bysm3ijoAJcoBFQo4CE1SODU3MjlaNABZFAQAGAE3AA\\/22c245c1\" + \"?m=99&action=mraidViewableAndBodyLoaded\";\n                        im_1011_fireBeacon(url);\n                }\n                if (im_1011_canFireImpBeacons) {\n                        im_1011_fireImpressionBeaconOnBodyLoad();\n                }\n            };\n            document.body.onload = bodyOnLoad </script>\n    </body>\n</html>\n",
            "viewability": [{
                "moat": {
                    "enabled": false,
                    "instrumentVideo": false
                }
            }],
            "tracking": "unknown",
            "markupType": "html",
            "expiry": 3300,
            "creativeId": "3stM+mnpkc9xz6ztjyd8SEHRlN17uV48z1ZrRB+EK7YjxgbGEdA9xsapvkZMGgKeYcIz+iqOSaw=",
            "impressionId": "1d04c54f-0170-1000-e2f5-90d9abea0030",
            "bidInfoEncrypted": "ywY/0T+iJzmonlTscGSyikIF0RI2tJOoap2YXM8Beawyn/+zstsjQk/svd6MXeOq",
            "canLoadBeforeShow": true,
            "metaInfo": {
                "creativeType": "nonvideo",
                "omsdkInfo": {
                    "omidEnabled": true,
                    "customReferenceData": "",
                    "isolateVerificationScripts": false,
                    "macros": {
                        "SI_BLIND": "XRNGLW1S",
                        "IDA": "1b8036a9-b905-417b-9e4c-26b0014ba072",
                        "PARTNER_ADV_ID": "0",
                        "PLACEMENT_DIMENSION": "300X250",
                        "HANDSET_NAME": "R9sk",
                        "SI_RAW": "com.myyearbook.m",
                        "BLINDED_SITE_ID": "XRNGLW1S",
                        "DEAL_ID": "0",
                        "RSAID": "1b8036a9-b905-417b-9e4c-26b0014ba072",
                        "CREATIVE_ID": "MR85729Z",
                        "SDK_VERSION_ID": "a901",
                        "HANDSET_TYPE": "SMARTPHONE",
                        "HANDSET_LANG": "en",
                        "HANDSET_MAKE": "OPPO",
                        "GPID": "1b8036a9-b905-417b-9e4c-26b0014ba072",
                        "IMP_CB": "1d04c54f-0170-1000-e2f5-90d9abea0030",
                        "GEO_LNG": "-117.70539855957031",
                        "LIMIT_AD_TRACKING": "0",
                        "GEO_LAT": "33.707401275634766",
                        "ADVERTISER_ID": "f9b3e81e09a7463a82cc4b2b6ab19538",
                        "GEO_CC": "US",
                        "AD_SLOT": "300X250"
                    }
                }
            },
            "transaction": {
                "adSourceName": "AerMarket AdSource",
                "buyerName": "InMobi",
                "buyerPrice": 9.0,
                "ctxHash": "4:xJaJkC+uJCJAaxJq8WL32g==:ksVhisQTPwbHSUY6KtE2qIYWzAV1LX8Yvgi1KNz3/bnmv/FElZDv4jkgo3wN0+w4InNtqrgJW50F5fKbFynD9w=="
            },
            "trackingEvents": [],
            "baseEventUrl": "https://az-events.aerserv.com/as/ev/?plc=1068085&rid=94403857-f738-4ff1-80db-a90aad42f142&pubid=2751&appid=1021623&gdpr=false&gdpr_consent=false&os=android&adid=1b8036a9-b905-417b-9e4c-26b0014ba072&sdkv=9.0.1&iline=1093065&icid=1100768&asplcid=1163200&asid=32690452&campaignid=1992&pinned=NONE&vc_user_id=1b8036a9-b905-417b-9e4c-26b0014ba072&buyer=UMP&ntid=18&ctxhash=${ctxhash}&eu=${eu}&ev=${ev}&pchain=2ce496b9f80eb9fa:2751",
            "asPlcId": 1163200,
            "lineItemId": 1093065,
            "applyBitmap": false
        }]
    }]
}

const noFillResponse = {
	"requestId": "b83d2959-53c2-4147-ac93-7ba64b604aaf",
	"adSets": []
}

router.post('/', (req, res, next) => {

    let mk_ad_slot = req.body["mk-ad-slot"];
    console.log(mk_ad_slot);

    // TODO:

    // retrieve mk-ad-slot=320x50 or mk-ad-slot=300x250

    if (mk_ad_slot == "300x250") {
        res.json(mrecResponse);
        console.log('rewrote mrec');
    } else {
        res.json(noFillResponse)
        console.log("nothing happened - not an mrec");

    }
});


module.exports = router;